// Generated by CoffeeScript 1.5.0

$(function() {
  var got_tickets, number, render_histories;
  got_tickets = [0];
  number = -1;
  render_histories = function(number) {
    if (number !== -1) {
      return $('#histories').append("<li>" + number + "</li>");
    }
  };
  return $(document).on('click', 'button#start-lots', function() {
    var loop_index, tickets_amount;
    tickets_amount = Number($('input[name="tickets-amount"]').val());
    loop_index = -1;
    while (true) {
      if (loop_index > tickets_amount) {
        number = -1;
        break;
      }
      loop_index++;
      number = parseInt((Math.random() * tickets_amount) + 1, 10);
      if ($.inArray(number, got_tickets) === -1) {
        break;
      }
    }
    got_tickets.push(number);
    $('span#ticket-number').text(number);
    return render_histories(number);
  });
});
